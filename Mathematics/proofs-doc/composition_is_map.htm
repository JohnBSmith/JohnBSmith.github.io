<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>composition_is_map</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="main.css" rel="stylesheet">
</head>
<body>
<h3>Theorem composition_is_map</h3>
<div class='box'><div class='thm'><b class='thm'>Theorem.</b> composition_is_map<br>
map f X Y → map g Y Z → map (g ∘ f) X Z</div></div>
<pre><b>Proof</b>
01. 1 ⊢ map f X Y, <a href='hypo.htm'>hypo</a>.
02. 2 ⊢ map g Y Z, <a href='hypo.htm'>hypo</a>.
03. 1 ⊢ function f ∧ dom f = X ∧ rng f ⊆ Y, <a href='map_unfold.htm'>map_unfold</a> 1.
04. 2 ⊢ function g ∧ dom g = Y ∧ rng g ⊆ Z, <a href='map_unfold.htm'>map_unfold</a> 2.
05. 1 ⊢ function f, <a href='conj_elimll.htm'>conj_elimll</a> 3.
06. 1 ⊢ dom f = X, <a href='conj_elimlr.htm'>conj_elimlr</a> 3.
07. 1 ⊢ rng f ⊆ Y, <a href='conj_elimr.htm'>conj_elimr</a> 3.
08. 2 ⊢ function g, <a href='conj_elimll.htm'>conj_elimll</a> 4.
09. 2 ⊢ dom g = Y, <a href='conj_elimlr.htm'>conj_elimlr</a> 4.
10. 2 ⊢ rng g ⊆ Z, <a href='conj_elimr.htm'>conj_elimr</a> 4.
11. ⊢ relation (g ∘ f), <a href='composition_is_relation.htm'>composition_is_relation</a>.
12. ⊢ rng (g ∘ f) ⊆ rng g, <a href='rng_composition.htm'>rng_composition</a>.
13. 2 ⊢ rng (g ∘ f) ⊆ Z, <a href='incl_trans.htm'>incl_trans</a> 12 10.
14. ⊢ dom (g ∘ f) ⊆ dom f, <a href='dom_composition.htm'>dom_composition</a>.
15. 1 ⊢ dom f ⊆ X, <a href='incl_from_eq.htm'>incl_from_eq</a> 6.
16. 1 ⊢ dom (g ∘ f) ⊆ X, <a href='incl_trans.htm'>incl_trans</a> 14 15.

17. 17 ⊢ x ∈ X, <a href='hypo.htm'>hypo</a>.
18. 1, 17 ⊢ ∃y. y ∈ Y ∧ y = app f x, <a href='map_app_exists.htm'>map_app_exists</a> 1 17.
19. 19 ⊢ y ∈ Y ∧ y = app f x, <a href='hypo.htm'>hypo</a>.
20. 19 ⊢ y ∈ Y, <a href='conj_eliml.htm'>conj_eliml</a> 19.
21. 19 ⊢ y = app f x, <a href='conj_elimr.htm'>conj_elimr</a> 19.
22. 1, 17, 19 ⊢ (x, y) ∈ f, <a href='map_app_elim.htm'>map_app_elim</a> 1 17 21.
23. 2, 19 ⊢ ∃z. z ∈ Z ∧ z = app g y, <a href='map_app_exists.htm'>map_app_exists</a> 2 20.
24. 24 ⊢ z ∈ Z ∧ z = app g y, <a href='hypo.htm'>hypo</a>.
25. 24 ⊢ z ∈ Z, <a href='conj_eliml.htm'>conj_eliml</a> 24.
26. 24 ⊢ z = app g y, <a href='conj_elimr.htm'>conj_elimr</a> 24.
27. 2, 19, 24 ⊢ (y, z) ∈ g, <a href='map_app_elim.htm'>map_app_elim</a> 2 20 26.
28. 1, 2, 17, 19, 24 ⊢ (x, z) ∈ g ∘ f, <a href='composition_intro.htm'>composition_intro</a> 22 27.
29. 1, 2, 17, 19, 24 ⊢ x ∈ dom (g ∘ f), <a href='dom_intro.htm'>dom_intro</a> 28.
30. 1, 2, 17, 19 ⊢ x ∈ dom (g ∘ f), <a href='ex_elim.htm'>ex_elim</a> 23 29.
31. 1, 2, 17 ⊢ x ∈ dom (g ∘ f), <a href='ex_elim.htm'>ex_elim</a> 18 30.
32. 1, 2 ⊢ x ∈ X → x ∈ dom (g ∘ f), <a href='subj_intro.htm'>subj_intro</a> 31.
33. 1, 2 ⊢ ∀x. x ∈ X → x ∈ dom (g ∘ f), <a href='uq_intro.htm'>uq_intro</a> 32.
34. 1, 2 ⊢ X ⊆ dom (g ∘ f), <a href='incl_intro.htm'>incl_intro</a> 33.
35. 1, 2 ⊢ dom (g ∘ f) = X, <a href='incl_antisym.htm'>incl_antisym</a> 16 34.

36. 36 ⊢ (x, z1) ∈ g ∘ f, <a href='hypo.htm'>hypo</a>.
37. 37 ⊢ (x, z2) ∈ g ∘ f, <a href='hypo.htm'>hypo</a>.
38. 36 ⊢ ∃y. (x, y) ∈ f ∧ (y, z1) ∈ g, <a href='composition_elim.htm'>composition_elim</a> 36.
39. 37 ⊢ ∃y. (x, y) ∈ f ∧ (y, z2) ∈ g, <a href='composition_elim.htm'>composition_elim</a> 37.
40. 40 ⊢ (x, y1) ∈ f ∧ (y1, z1) ∈ g, <a href='hypo.htm'>hypo</a>.
41. 41 ⊢ (x, y2) ∈ f ∧ (y2, z2) ∈ g, <a href='hypo.htm'>hypo</a>.
42. 40 ⊢ (x, y1) ∈ f, <a href='conj_eliml.htm'>conj_eliml</a> 40.
43. 41 ⊢ (x, y2) ∈ f, <a href='conj_eliml.htm'>conj_eliml</a> 41.
44. 40 ⊢ (y1, z1) ∈ g, <a href='conj_elimr.htm'>conj_elimr</a> 40.
45. 41 ⊢ (y2, z2) ∈ g, <a href='conj_elimr.htm'>conj_elimr</a> 41.
46. 1, 40, 41 ⊢ y1 = y2, <a href='fn_unique_value.htm'>fn_unique_value</a> 5 42 43.
47. 1, 40, 41 ⊢ (y1, z2) ∈ g, <a href='eq_subst_rev.htm'>eq_subst_rev</a> 46 45.
48. 1, 2, 40, 41 ⊢ z1 = z2, <a href='fn_unique_value.htm'>fn_unique_value</a> 8 44 47.
49. 1, 2, 37, 40 ⊢ z1 = z2, <a href='ex_elim.htm'>ex_elim</a> 39 48.
50. 1, 2, 36, 37 ⊢ z1 = z2, <a href='ex_elim.htm'>ex_elim</a> 38 49.
51. 1, 2 ⊢ (x, z1) ∈ g ∘ f → (x, z2) ∈ g ∘ f → z1 = z2,
  <a href='subj_intro_ii.htm'>subj_intro_ii</a> 50.
52. 1, 2 ⊢ ∀z2. (x, z1) ∈ g ∘ f → (x, z2) ∈ g ∘ f → z1 = z2,
  <a href='uq_intro.htm'>uq_intro</a> 51.
53. 1, 2 ⊢ ∀z1. ∀z2. (x, z1) ∈ g ∘ f → (x, z2) ∈ g ∘ f → z1 = z2,
  <a href='uq_intro.htm'>uq_intro</a> 52.
54. 1, 2 ⊢ ∀x. ∀z1. ∀z2. (x, z1) ∈ g ∘ f → (x, z2) ∈ g ∘ f → z1 = z2,
  <a href='uq_intro.htm'>uq_intro</a> 53.
55. 1, 2 ⊢ function (g ∘ f), <a href='function_intro.htm'>function_intro</a> 11 54.
56. 1, 2 ⊢ map (g ∘ f) X Z, <a href='map_intro.htm'>map_intro</a> 55 35 13.
composition_is_map. ⊢ map f X Y → map g Y Z → map (g ∘ f) X Z,
  <a href='subj_intro_ii.htm'>subj_intro_ii</a> 56.
</pre>
<p><b>Dependencies</b><br>The given proof depends on nine axioms:<br><a href='comp.htm'>comp</a>, <a href='efq.htm'>efq</a>, <a href='eq_refl.htm'>eq_refl</a>, <a href='eq_subst.htm'>eq_subst</a>, <a href='ext.htm'>ext</a>, <a href='lem.htm'>lem</a>, <a href='pairing.htm'>pairing</a>, <a href='subset.htm'>subset</a>, <a href='union.htm'>union</a>.</p>
</body>
</html>